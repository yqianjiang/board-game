"use strict";(self["webpackChunkboard_games"]=self["webpackChunkboard_games"]||[]).push([[251],{1886:function(t,o,n){n.d(o,{P:function(){return e}});const e=(t,o,n=0)=>{const e=[];for(let s=0;s<t;s++){e[s]=[];for(let t=0;t<o;t++){const t="number"===typeof n?n:l(n);e[s].push(t)}}return e},l=t=>{const o=t.length;if(1===o)return t[0];{const n=Math.floor(Math.random()*o);return t[n]}}},2251:function(t,o,n){n.r(o),n.d(o,{default:function(){return x}});var e=n(3396),l=n(7139);const s=t=>((0,e.dD)("data-v-1f08bd12"),t=t(),(0,e.Cn)(),t),i={class:"game-wrap"},u=s((()=>(0,e._)("h1",null,"关灯游戏",-1))),r=s((()=>(0,e._)("p",null,"游戏板上有一组灯泡，有些是亮的（黄色），有些是暗的（灰色）。",-1))),a=s((()=>(0,e._)("p",null,"你的目标是通过点击它们，改变它们的状态，把所有的灯泡都熄灭。但要注意，每次点击一个灯泡都会影响其上、下、左、右相邻的灯泡。",-1))),c=["onClick"],v={class:"stack btn-group"},g={class:"history-text"},f={key:0,class:"history-text"},h=s((()=>(0,e._)("div",null,"参考答案",-1)));function d(t,o,n,s,d,p){return(0,e.wg)(),(0,e.iD)("div",i,[u,r,a,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.stateMatrix,((o,n)=>((0,e.wg)(),(0,e.iD)("div",{class:"row",key:o},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(o,((o,s)=>((0,e.wg)(),(0,e.iD)("div",{class:(0,l.C_)(["toggle-box",{"toggle-box--dead":0===o}]),key:n+s,onClick:o=>t.toggle(n,s)},null,10,c)))),128))])))),128)),(0,e._)("div",v,[(0,e._)("button",{onClick:o[0]||(o[0]=(...o)=>t.init&&t.init(...o))},"随机开局"),(0,e._)("button",{onClick:o[1]||(o[1]=(...o)=>t.reset&&t.reset(...o))},"灯全亮开局"),t.solutions[0][0][0]?((0,e.wg)(),(0,e.iD)("button",{key:0,onClick:o[2]||(o[2]=(...o)=>t.autoSolve&&t.autoSolve(...o))},"自动解答")):((0,e.wg)(),(0,e.iD)("button",{key:1,onClick:o[3]||(o[3]=(...o)=>t.showSolution&&t.showSolution(...o))},"显示答案"))]),(0,e._)("div",g,"操作历史"+(0,l.zw)("\n"+t.history.join("\n")),1),t.solutions[0][0][0]?((0,e.wg)(),(0,e.iD)("div",f,[h,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.solutions,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t},(0,l.zw)(t.join("\n")+"\n---\n"),1)))),128))])):(0,e.kq)("",!0)])}var p=n(4870),w=n(1886);const k=t=>0===+t.join(""),b=(t,o,n,e)=>{t[n]^=1<<o-1-e},_=(t,o,n,e,l)=>{b(o,n,e,l);const s=[[0,0],[0,-1],[0,1],[-1,0],[1,0]];for(const i of s){let[o,s]=i;o+=e,s+=l,o>=0&&s>=0&&o<t.length&&s<n&&b(t,n,o,s)}},y=(t,o,n)=>{for(let e=1;e<t.length;e++)for(let l=0;l<n;l++)(t[e-1]&1<<n-1-l)>0&&_(t,o,n,e,l)},D=(t,o,n,e,l,s)=>(s&&_(t,o,n,e,l),l<n-1?[...D([...t],[...o],n,e,l+1,!0),...D([...t],[...o],n,e,l+1,!1)]:(y(t,o,n),k(t)?[o]:[])),m=t=>{const o=t?.[0].length||5,n=t?t.map((t=>parseInt(t.join(""),2))):[31,31,31,31,31],e=t?[t.map((t=>0))]:[[0,0,0,0,0]];for(const l of[!0,!1]){const t=D([...n],[...e[0]],o,0,0,l);t&&e.push(...t)}return e.slice(1)};var C=(0,e.aZ)({props:{properties:Object},setup(){const[t,o]=[5,5],n=(0,p.iH)((0,w.P)(t,o,1)),e=(0,p.iH)((0,w.P)(t,o)),l=(0,p.iH)([[[""]]]),s=[[0,0],[0,-1],[0,1],[-1,0],[1,0]],i=(l,i)=>{e.value[l][i]=e.value[l][i]?0:1;for(const e of s){let[s,u]=e;s+=l,u+=i,s>=0&&u>=0&&s<t&&u<o&&(n.value[s][u]=+!n.value[s][u])}},u=()=>{e.value=(0,w.P)(t,o),n.value=(0,w.P)(t,o,1),l.value=[[[""]]]},r=()=>{u();let e=(0,w.P)(t,o,[0,1]),l=m(e);while(!l[0])e=(0,w.P)(t,o,[0,1]),l=m(e);n.value=e};r();const a=()=>{for(let t=1;t<n.value.length;t++)for(const o in n.value[t])n.value[t-1][o]&&i(t,+o)},c=()=>{const t=m(n.value);t[0]?l.value=t.map((t=>t.map((t=>{let o=t.toString(2);while(o.length<n.value[0].length)o="0"+o;return o.split("")})))):console.log("此局无解")},v=()=>{const t=l.value[0];for(let o=0;o<n.value.length;o++)for(const e in n.value[o])"1"==t[o][+e]&&i(o,+e)};return{stateMatrix:n,toggle:i,reset:u,init:r,complete:a,showSolution:c,autoSolve:v,history:e,solutions:l}}}),P=n(89);const S=(0,P.Z)(C,[["render",d],["__scopeId","data-v-1f08bd12"]]);var x=S}}]);
//# sourceMappingURL=251.7f04de33.js.map