"use strict";(self["webpackChunkboard_games"]=self["webpackChunkboard_games"]||[]).push([[373],{1886:function(t,e,n){n.d(e,{P:function(){return o}});const o=(t,e)=>{const n=[];for(let o=0;o<t;o++){n[o]=[];for(let t=0;t<e;t++)n[o].push(0)}return n}},5373:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var o=n(3396),l=n(7139);const a=t=>((0,o.dD)("data-v-2927b446"),t=t(),(0,o.Cn)(),t),r={class:"game-wrap"},s=a((()=>(0,o._)("h1",null,"生命游戏",-1))),u=["name","onClick"];function i(t,e,n,a,i,c){return(0,o.wg)(),(0,o.iD)("div",r,[s,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.stateMatrix,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["toggle-box",{"toggle-box--dead":0===e}]),key:e,name:`${n},${a}`,onClick:e=>t.toggle(n,a)},null,10,u)))),128))])))),128)),(0,o._)("button",{onClick:e[0]||(e[0]=(...e)=>t.start&&t.start(...e))},"开始"),(0,o._)("button",{onClick:e[1]||(e[1]=e=>t.stop=!0)},"停止"),(0,o._)("button",{onClick:e[2]||(e[2]=(...e)=>t.goNext&&t.goNext(...e))},"下一步"),(0,o._)("button",{onClick:e[3]||(e[3]=(...e)=>t.reset&&t.reset(...e))},"重置")])}var c=n(4870),g=n(1886);const f=t=>{let e=0;for(let n=0;n<t.length;n++)for(let o=0;o<t[0].length;o++)e+=t[n][o]??0;return e},v=async(t=300)=>{await new Promise((e=>{setTimeout((()=>{e(0)}),t)}))},p=(t,e)=>JSON.stringify(t)===JSON.stringify(e),d=function(t){const e=function(t,e,n){let o=0;for(let l=Math.max(0,e-1);l<=e+1;l++)for(let e=Math.max(0,n-1);e<=n+1;e++)o+=t[l]?.[e]??0;return o},n=[],o=t.length,l=t[0].length;for(let a=0;a<o;a++){n[a]=[];for(let o=0;o<l;o++)if(0===t[a][o])n[a].push(3===e(t,a,o)?1:0);else{const l=e(t,a,o)-1;n[a].push(3===l||2===l?1:0)}}return n};var h=(0,o.aZ)({props:{properties:Object},setup(t){const e=(0,o.Fl)((()=>[t.properties?.nRows.default||9,t.properties?.nCols.default||9])),n=(0,c.iH)([[0]]),l=(0,c.iH)([[0]]),a=(0,c.iH)(!1),r=()=>{l.value=n.value,n.value=d(n.value)},s=async()=>{a.value=!1;while(f(n.value)>0&&!p(l.value,n.value)&&!a.value)console.log(1),r(),await v(t.properties?.speed.default)},u=(t,e)=>{n.value[t][e]=+!n.value[t][e]},i=()=>{a.value=!0;const[t,o]=e.value;n.value=(0,g.P)(t,o)};return(0,o.m0)(i),{stateMatrix:n,goNext:r,start:s,toggle:u,reset:i,stop:a}}}),w=n(89);const b=(0,w.Z)(h,[["render",i],["__scopeId","data-v-2927b446"]]);var k=b}}]);
//# sourceMappingURL=373.4eb47a7f.js.map