"use strict";(self["webpackChunkboard_games"]=self["webpackChunkboard_games"]||[]).push([[373],{1886:function(t,e,n){n.d(e,{P:function(){return o}});const o=(t,e,n=0)=>{const o=[];for(let r=0;r<t;r++){o[r]=[];for(let t=0;t<e;t++){const t="number"===typeof n?n:l(n);o[r].push(t)}}return o},l=t=>{const e=t.length;if(1===e)return t[0];{const n=Math.floor(Math.random()*e);return t[n]}}},5373:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var o=n(3396),l=n(7139);const r=t=>((0,o.dD)("data-v-2927b446"),t=t(),(0,o.Cn)(),t),a={class:"game-wrap"},s=r((()=>(0,o._)("h1",null,"生命游戏",-1))),u=["name","onClick"];function i(t,e,n,r,i,c){return(0,o.wg)(),(0,o.iD)("div",a,[s,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.stateMatrix,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,r)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["toggle-box",{"toggle-box--dead":0===e}]),key:e,name:`${n},${r}`,onClick:e=>t.toggle(n,r)},null,10,u)))),128))])))),128)),(0,o._)("button",{onClick:e[0]||(e[0]=(...e)=>t.start&&t.start(...e))},"开始"),(0,o._)("button",{onClick:e[1]||(e[1]=e=>t.stop=!0)},"停止"),(0,o._)("button",{onClick:e[2]||(e[2]=(...e)=>t.goNext&&t.goNext(...e))},"下一步"),(0,o._)("button",{onClick:e[3]||(e[3]=(...e)=>t.reset&&t.reset(...e))},"重置")])}var c=n(4870),f=n(1886);const g=t=>{let e=0;for(let n=0;n<t.length;n++)for(let o=0;o<t[0].length;o++)e+=t[n][o]??0;return e},p=async(t=300)=>{await new Promise((e=>{setTimeout((()=>{e(0)}),t)}))},v=(t,e)=>JSON.stringify(t)===JSON.stringify(e),d=function(t){const e=function(t,e,n){let o=0;for(let l=Math.max(0,e-1);l<=e+1;l++)for(let e=Math.max(0,n-1);e<=n+1;e++)o+=t[l]?.[e]??0;return o},n=[],o=t.length,l=t[0].length;for(let r=0;r<o;r++){n[r]=[];for(let o=0;o<l;o++)if(0===t[r][o])n[r].push(3===e(t,r,o)?1:0);else{const l=e(t,r,o)-1;n[r].push(3===l||2===l?1:0)}}return n};var h=(0,o.aZ)({props:{properties:Object},setup(t){const e=(0,o.Fl)((()=>[t.properties?.nRows.default||9,t.properties?.nCols.default||9])),n=(0,c.iH)([[0]]),l=(0,c.iH)([[0]]),r=(0,c.iH)(!1),a=()=>{l.value=n.value,n.value=d(n.value)},s=async()=>{r.value=!1;while(g(n.value)>0&&!v(l.value,n.value)&&!r.value)console.log(1),a(),await p(t.properties?.speed.default)},u=(t,e)=>{n.value[t][e]=+!n.value[t][e]},i=()=>{r.value=!0;const[t,o]=e.value;n.value=(0,f.P)(t,o)};return(0,o.m0)(i),{stateMatrix:n,goNext:a,start:s,toggle:u,reset:i,stop:r}}}),b=n(89);const w=(0,b.Z)(h,[["render",i],["__scopeId","data-v-2927b446"]]);var k=w}}]);
//# sourceMappingURL=373.23530dbe.js.map